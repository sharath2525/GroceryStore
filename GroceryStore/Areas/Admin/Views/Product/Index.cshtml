@model List<GroceryStore.Models.Product>
<partial name="_Notification" />

<div class="card shadow border-0 mt-4">
    <div class="card-header bg-secondary bg-dark ml-0 py-2">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="text-white py-2">Product List</h2>
            </div>
        </div>
    </div>
    <div class="card-body p-3">
        <div class="row pb-3">
            <div class="col-6"></div>
            <div class="col-6 text-end">
                <a asp-controller="Product" asp-action="Upsert" class="btn btn-primary bg-dark">
                    <i class="bi bi-plus-square"></i> Add New Product
                </a>
            </div>
        </div>
        <table id="tblData" class="table table-bordered table-striped" style="width:100%">
            <thead>
                <tr>
                <th>Product Name</th>
                <th>Image</th>
                <th>Price</th>
                <th>Quantity</th>
                <th>Description</th>
                <th>Category</th>
                
                </tr>
            </thead>
        </table>
    </div>
</div>


 @section Scripts{
     <script src="~/js/product.js"></script>"

 } 


    @*   <script>
         var dataTable;
 
         $(document).ready(function () {
             loadDataTable();
         });
 
         function loadDataTable() {
             dataTable = $('#DT_load').DataTable({
                 "ajax": {
                     "url": "/admin/product/getall",
                     "type": "GET",
                     "datatype": "json"
                 },
                 "columns": [
                 { "data": "productName", "width": "20%" },
                 { "data": "imageUrl", "width": "20%" },
                 { "data": "price", "width": "20%" },
                 { "data": "quantity", "width": "20%" },
                 { "data": "description", "width": "20%" },
                 { "data": "category.name", "width": "20%" },


                 {
                     "data": "productId",
                     "render": function (data) {
                         return `@{
                         <tr>
                         <td>@obj.ProductName</td>
                         <td><img src="@obj.ImageUrl" alt="Product Image" class="img-thumbnail" width="50" /></td>
                         <td>@obj.Price</td>
                         <td>@obj.Quantity</td>
                         <td>@obj.Description</td>
                         <td>@obj.Category.CategoryName</td>
                             <td>
                                 <div class="w-75 btn-group" role="group">
                                     <a asp-controller="Product" asp-action="Upsert" asp-route-id="@obj.ProductId" class="btn btn-primary mx-2">
                                         <i class="bi bi-pencil"></i> Edit
                                     </a>
                                         <a asp-controller="Product" asp-action="Delete" asp-route-id="@obj.ProductId" class="btn btn-danger mx-2">
                                         <i class="bi bi-trash"></i> Delete
                                     </a>
                                 </div>
                             </td>
                         </tr>
                          }
                                     `;
                         }, "width": "40%"
                 ],
                 "language": {
                     "emptyTable": "no data found"
                 },
                 "width": "100%"
             });
         }
 
      }
  *@







 @* @foreach (var obj in Model)
                {
                    <tr>
                    <td>@obj.ProductName</td>
                    <td><img src="@obj.ImageUrl" alt="Product Image" class="img-thumbnail" width="50" /></td>
                    <td>@obj.Price</td>
                    <td>@obj.Quantity</td>
                    <td>@obj.Description</td>
                    <td>@obj.Category.CategoryName</td>
                        <td>
                            <div class="w-75 btn-group" role="group">
                                <a asp-controller="Product" asp-action="Upsert" asp-route-id="@obj.ProductId" class="btn btn-primary mx-2">
                                    <i class="bi bi-pencil"></i> Edit
                                </a>
                                    <a asp-controller="Product" asp-action="Delete" asp-route-id="@obj.ProductId" class="btn btn-danger mx-2">
                                    <i class="bi bi-trash"></i> Delete
                                </a>
                            </div>
                        </td>
                    </tr>
                } 

     *@